<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>M.A.N.U.L. - Direct Data Edition</title>
    <style>
        body { margin: 0; overflow: hidden; background: #111; color: #ff4b2b; font-family: monospace; }
        #instructions { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center; background: rgba(0,0,0,0.9); padding: 40px; border: 2px solid #ff4b2b; z-index: 10; cursor: pointer; }
        .btn { border: 1px solid #ff4b2b; padding: 10px 20px; margin-top: 20px; display: inline-block; }
    </style>
</head>
<body>
    <div id="instructions">
        <h1>M.A.N.U.L. INTERNAL LOADING</h1>
        <p>This version uses BUILT-IN DATA.</p>
        <div class="btn" id="start-btn">INITIALIZE UNIT</div>
    </div>

    <script type="importmap">
        { "imports": { "three": "https://unpkg.com/three@0.160.0/build/three.module.js", "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/" } }
    </script>

    <script type="module">
        import * as THREE from 'three';
        import { PointerLockControls } from 'three/addons/controls/PointerLockControls.js';
        import { GLTFLoader } from 'three/addons/loaders/GLTFLoader.js';

        let scene, camera, renderer, controls, robot;

        // A tiny "Box Robot" made of code so it loads INSTANTLY on any Chromebook
        function createBoxRobot() {
            const group = new THREE.Group();
            const mat = new THREE.MeshPhongMaterial({ color: 0xff4b2b });
            
            const body = new THREE.Mesh(new THREE.BoxGeometry(1, 1.5, 0.5), mat);
            const head = new THREE.Mesh(new THREE.BoxGeometry(0.6, 0.6, 0.6), mat);
            head.position.y = 1.1;
            
            const lArm = new THREE.Mesh(new THREE.BoxGeometry(0.3, 1, 0.3), mat);
            lArm.position.set(-0.7, 0.2, 0);
            const rArm = new THREE.Mesh(new THREE.BoxGeometry(0.3, 1, 0.3), mat);
            rArm.position.set(0.7, 0.2, 0);

            group.add(body, head, lArm, rArm);
            return group;
        }

        function init() {
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
            renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            document.body.appendChild(renderer.domElement);

            const light = new THREE.DirectionalLight(0xffffff, 2);
            light.position.set(5, 10, 7.5);
            scene.add(light, new THREE.AmbientLight(0x404040));

            scene.add(new THREE.GridHelper(100, 20, 0xff4b2b, 0x444444));

            robot = createBoxRobot();
            robot.position.y = 0.75;
            scene.add(robot);

            controls = new PointerLockControls(camera, document.body);
            document.getElementById('start-btn').onclick = () => {
                controls.lock();
                document.getElementById('instructions').style.display = 'none';
            };

            camera.position.set(0, 2, 5);
            camera.lookAt(robot.position);

            animate();
        }

        function animate() {
            requestAnimationFrame(animate);
            if (robot) {
                // Simple animation to show it's "alive"
                robot.rotation.y += 0.01;
                // Follow camera but stay on ground
                if (controls.isLocked) {
                    robot.position.x = camera.position.x;
                    robot.position.z = camera.position.z - 2;
                }
            }
            renderer.render(scene, camera);
        }

        init();
    </script>
</body>
</html>
