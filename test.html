<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>M.A.N.U.L. - Heavy Chassis Edition</title>
    <style>
        body { margin: 0; overflow: hidden; background: #050505; color: #00ff00; font-family: 'Courier New', monospace; }
        #ui { position: absolute; top: 20px; left: 20px; pointer-events: none; }
        #overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center; background: #000; z-index: 100; }
        .btn { border: 2px solid #00ff00; padding: 15px 40px; cursor: pointer; color: #00ff00; background: transparent; font-size: 1.2rem; }
    </style>
</head>
<body>

    <div id="ui">
        <h2>M.A.N.U.L. HEAVY UNIT</h2>
        <p>INTERNAL GEOMETRY ENGINE: ACTIVE</p>
    </div>

    <div id="overlay">
        <h1>GEOMETRY BUILT</h1>
        <button class="btn" id="start-btn">DEPLOY UNIT</button>
    </div>

    <script type="importmap">
        { "imports": { "three": "https://unpkg.com/three@0.160.0/build/three.module.js" } }
    </script>

    <script type="module">
        import * as THREE from 'three';

        let scene, camera, renderer, robot, leftLeg, rightLeg, leftArm, rightArm;

        function createPart(w, h, d, color, x, y, z) {
            const mat = new THREE.MeshPhongMaterial({ color: color, shininess: 80, flatShading: true });
            const mesh = new THREE.Mesh(new THREE.BoxGeometry(w, h, d), mat);
            mesh.position.set(x, y, z);
            return mesh;
        }

        function buildRealisticRobot() {
            const group = new THREE.Group();
            const darkSteel = 0x222222;
            const lightSteel = 0x444444;
            const glowColor = 0x00ff00;

            // --- TORSO & ARMOR ---
            const body = createPart(1.2, 1.6, 0.8, lightSteel, 0, 0, 0);
            const chestPlate = createPart(1.3, 0.8, 0.2, darkSteel, 0, 0.3, 0.4);
            group.add(body, chestPlate);

            // --- HEAD UNIT ---
            const headBase = createPart(0.7, 0.5, 0.6, lightSteel, 0, 1.1, 0);
            const visor = createPart(0.6, 0.15, 0.1, glowColor, 0, 1.15, 0.3);
            const chinGuard = createPart(0.5, 0.2, 0.4, darkSteel, 0, 0.85, 0.1);
            group.add(headBase, visor, chinGuard);

            // --- ARMS & SHOULDERS ---
            leftArm = new THREE.Group();
            const lShoulder = createPart(0.6, 0.6, 0.6, darkSteel, -0.9, 0.6, 0);
            const lBicep = createPart(0.4, 0.8, 0.4, lightSteel, -0.9, 0, 0);
            leftArm.add(lShoulder, lBicep);
            group.add(leftArm);

            rightArm = new THREE.Group();
            const rShoulder = createPart(0.6, 0.6, 0.6, darkSteel, 0.9, 0.6, 0);
            const rBicep = createPart(0.4, 0.8, 0.4, lightSteel, 0.9, 0, 0);
            rightArm.add(rShoulder, rBicep);
            group.add(rightArm);

            // --- LEGS ---
            leftLeg = new THREE.Group();
            const lThigh = createPart(0.5, 1, 0.5, darkSteel, -0.4, -1.2, 0);
            const lBoot = createPart(0.6, 0.4, 0.7, lightSteel, -0.4, -1.8, 0.1);
            leftLeg.add(lThigh, lBoot);
            group.add(leftLeg);

            rightLeg = new THREE.Group();
            const rThigh = createPart(0.5, 1, 0.5, darkSteel, 0.4, -1.2, 0);
            const rBoot = createPart(0.6, 0.4, 0.7, lightSteel, 0.4, -1.8, 0.1);
            rightLeg.add(rThigh, rBoot);
            group.add(rightLeg);

            return group;
        }

        function init() {
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
            camera.position.set(2, 1, 5);

            renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            document.body.appendChild(renderer.domElement);

            scene.add(new THREE.AmbientLight(0x404040, 2));
            const light = new THREE.DirectionalLight(0xffffff, 2);
            light.position.set(5, 10, 5);
            scene.add(light);

            scene.add(new THREE.GridHelper(100, 50, 0x00ff00, 0x111111));

            robot = buildRealisticRobot();
            scene.add(robot);

            document.getElementById('start-btn').onclick = () => {
                document.getElementById('overlay').style.display = "none";
            };

            animate();
        }

        function animate() {
            requestAnimationFrame(animate);
            const time = Date.now() * 0.005;

            if (robot) {
                // Realistic walk cycle
                leftLeg.rotation.x = Math.sin(time) * 0.4;
                rightLeg.rotation.x = Math.sin(time + Math.PI) * 0.4;
                leftArm.rotation.x = Math.sin(time + Math.PI) * 0.3;
                rightArm.rotation.x = Math.sin(time) * 0.3;
                
                robot.rotation.y += 0.005;
            }

            renderer.render(scene, camera);
        }

        init();
    </script>
</body>
</html>
